<?xml version="1.0"?>
<robot name="robot_arm">

  <!-- ==================== -->
  <!-- BASE FOOTPRINT       -->
  <!-- ==================== -->
  <!-- Link virtual no chão (Z=0), sem geometria -->
  <link name="base_footprint">
  </link>

  <!-- ==================== -->
  <!-- BASE LINK            -->
  <!-- ==================== -->
  <link name="base_link">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <!-- TAREFA: Defina um cilindro com raio 0.1m e altura 0.05m -->
        <cylinder radius="0.1" length="0.05"/>
      </geometry>
      <material name="gray">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.1" length="0.05"/>
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="2.0"/>
      <!-- Inércia de um cilindro: ixx=iyy=(1/12)*m*(3r²+h²), izz=(1/2)*m*r² -->
      <inertia
        ixx="0.00520833"
        ixy="0.0" ixz="0.0"
        iyy="0.00520833"
        iyz="0.0"
        izz="0.01"/>
    </inertial>
  </link>

  <!-- Joint conectando base_footprint ao base_link -->
  <joint name="base_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <!-- TAREFA: O base_link deve estar acima do chão -->
    <!-- A origem deve ser na metade da altura do cilindro (0.05/2 = 0.025) -->
    <origin xyz="0 0 0.025" rpy="0 0 0"/>
  </joint>

  <!-- ==================== -->
  <!-- LINK 1               -->
  <!-- ==================== -->
  <link name="link1">
    <visual>
      <!-- O cilindro é criado centrado na origem.
           Deslocamos metade do comprimento para que a base fique na origem -->
      <origin xyz="0 0 0.15" rpy="0 0 0"/>
      <geometry>
        <!-- TAREFA: Cilindro com raio 0.03m e comprimento 0.3m -->
        <cylinder radius="0.03" length="0.3"/>
      </geometry>
      <material name="blue">
        <color rgba="0 0 0.8 1"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0.15" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.03" length="0.3"/>
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0 0 0.15" rpy="0 0 0"/>
      <mass value="1.0"/>
      <inertia
        ixx="0.00775"
        ixy="0.0" ixz="0.0"
        iyy="0.00775"
        iyz="0.0"
        izz="0.00045"/>
    </inertial>
  </link>

  <!-- Junta rotacional entre base_link e link1 -->
  <joint name="joint1" type="revolute">
    <parent link="base_link"/>
    <child link="link1"/>
    <!-- Posiciona no topo do base_link -->
    <origin xyz="0 0 0.025" rpy="0 0 0"/>
    <!-- TAREFA: A junta deve rotacionar em torno do eixo Z -->
    <axis xyz="0 0 1"/>
    <!-- Limites de rotação: -180° a +180° -->
    <limit lower="-3.14159" upper="3.14159" effort="10" velocity="1.0"/>
  </joint>

  <!-- ==================== -->
  <!-- LINK 2               -->
  <!-- ==================== -->
  <link name="link2">
    <visual>
      <origin xyz="0 0 0.125" rpy="0 0 0"/>
      <geometry>
        <!-- TAREFA: Cilindro com raio 0.025m e comprimento 0.25m -->
        <cylinder radius="0.025" length="0.25"/>
      </geometry>
      <material name="red">
        <color rgba="0.8 0 0 1"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0.125" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.025" length="0.25"/>
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0 0 0.125" rpy="0 0 0"/>
      <mass value="0.8"/>
      <inertia
        ixx="0.00425"
        ixy="0.0" ixz="0.0"
        iyy="0.00425"
        iyz="0.0"
        izz="0.00025"/>
    </inertial>
  </link>

  <!-- Junta entre link1 e link2 -->
  <joint name="joint2" type="revolute">
    <parent link="link1"/>
    <child link="link2"/>
    <!-- TAREFA: Posicione no topo do link1 (que tem 0.3m de comprimento) -->
    <origin xyz="0 0 0.3" rpy="0 0 0"/>
    <!-- Esta junta rotaciona em torno do eixo Y (movimento de "cotovelo") -->
    <axis xyz="0 1 0"/>
    <limit lower="-2.356" upper="2.356" effort="10" velocity="1.0"/>
  </joint>

  <!-- ==================== -->
  <!-- END EFFECTOR         -->
  <!-- ==================== -->
  <link name="end_effector">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.02"/>
      </geometry>
      <material name="green">
        <color rgba="0 0.8 0 1"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.02"/>
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.1"/>
      <!-- Inércia de esfera: ixx=iyy=izz=(2/5)*m*r² -->
      <inertia
        ixx="0.000016"
        ixy="0.0" ixz="0.0"
        iyy="0.000016"
        iyz="0.0"
        izz="0.000016"/>
    </inertial>
  </link>

  <!-- Junta fixa para o end effector -->
  <joint name="end_effector_joint" type="fixed">
    <parent link="link2"/>
    <child link="end_effector"/>
    <!-- TAREFA: Posicione no topo do link2 (0.25m de comprimento) -->
    <origin xyz="0 0 0.25" rpy="0 0 0"/>
  </joint>

</robot>